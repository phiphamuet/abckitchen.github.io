//
   Created by PHI on 5/24/2015.
//
   Created by PHI on 5/24/2015.
extends layout
block content
   // start: Header
   .container-fluid-full
      .row-fluid
         // start: Main Menu
         #sidebar-left.span2
            .nav-collapse.sidebar-nav
               ul.nav.nav-tabs.nav-stacked.main-menu
                  li
                     a(href='/manager')
                        i.icon-dashboard
                        span.hidden-tablet  Dashboard
                  li
                     a(href='/manager/user')
                        i.icon-edit
                        span.hidden-tablet  Quản lí người dùng
                  li
                     a(href='/manager/menu')
                        i.icon-tasks
                        span.hidden-tablet  Quản lí thực đơn
                  li
                     a(href='/manager/track')
                        i.icon-eye-open
                        span.hidden-tablet  Theo dõi người dùng
                  li
                     a(href='/manager/statistic')
                        i.icon-bar-chart
                        span.hidden-tablet  Thống kê đăng ký ăn
                  //li
                  //   a(href='/manager/chart')
                  //      i.icon-bar-chart
                  //      span.hidden-tablet  Biểu đồ
                  li
                     a(href='/manager/calculate')
                        i.icon-shopping-cart
                        span.hidden-tablet  Tính phí
                  li
                     a(href='/manager/accounting')
                        i.icon-calendar
                        span.hidden-tablet  Kế toán
         // end: Main Menu
         noscript
            .alert.alert-block.span10
               h4.alert-heading Warning!
               p
                  | You need to have
                  a(href='http://en.wikipedia.org/wiki/JavaScript', target='_blank') JavaScript
                  |  enabled to use this site.
         // start: Content
         #content.span10
            ul.breadcrumb
               li
                  i.icon-home
                  a(href='index.html') Home
                  i.icon-angle-right
               li
                  a(href='#') Charts
            .row-fluid
               .widget.span6(ontablet='span6', ondesktop='span6')
                  h2
                     span.glyphicons.facebook
                        i
                     | Facebook Fans
                  hr
                  .content
                     #facebookChart(style='height:300px')
               // /span
               .widget.span6(ontablet='span6', ondesktop='span6')
                  h2
                     span.glyphicons.twitter
                        i
                     | Twitter Followers
                  hr
                  .content
                     #twitterChart(style='height:300px')
               // /span
            .row-fluid
               .widget.span6(ontablet='span6', ondesktop='span6')
                  h2
                     span
                        i
                     | Đăng ký ăn
                  hr
                  .content
                     #registerChart(style='height:300px')
               // /span
               .widget.span6(ontablet='span6', ondesktop='span6')
                  h2
                     span
                        i
                     | Thực tế ăn
                  hr
                  .content
                     #realChart(style='height:300px')
               // /span
            script.
               $(function() {
                  if($("#registerChart").length)
                  {
                     //var likes = [[1, 5+randNumFB()], [2, 10+randNumFB()], [3, 15+randNumFB()], [4, 20+randNumFB()],[5, 25+randNumFB()],[6, 30+randNumFB()],[7, 35+randNumFB()],[8, 40+randNumFB()],[9, 45+randNumFB()],[10, 50+randNumFB()],[11, 55+randNumFB()],[12, 60+randNumFB()],[13, 65+randNumFB()],[14, 70+randNumFB()],[15, 75+randNumFB()],[16, 80+randNumFB()],[17, 85+randNumFB()],[18, 90+randNumFB()],[19, 85+randNumFB()],[20, 80+randNumFB()],[21, 75+randNumFB()],[22, 80+randNumFB()],[23, 75+randNumFB()],[24, 70+randNumFB()],[25, 65+randNumFB()],[26, 75+randNumFB()],[27,80+randNumFB()],[28, 85+randNumFB()],[29, 90+randNumFB()], [30, 95+randNumFB()]];
                     var register=[[1, 1], [2, 2], [3, 3], [4, 4],[5, 5],[6, 6],[7, 7], [8, 8], [9, 9], [10, 10]];
                     var plot = $.plot($("#registerChart"),
                        [ { data: register, label: "Đăng kí"} ],
                        {
                           series: {
                              lines: { show: true,
                              lineWidth: 2,
                              fill: true, fillColor: { colors: [ { opacity: 0.5 }, { opacity: 0.2 } ] }
                              },
                              points: { show: true,
                              lineWidth: 2
                              },
                              shadowSize: 0
                           },
                           grid: { hoverable: true,
                              clickable: true,
                              tickColor: "#f9f9f9",
                              borderWidth: 0
                           },
                           colors: ["#3B5998"],
                           xaxis: {ticks:6, tickDecimals: 0},
                           yaxis: {ticks:3, tickDecimals: 0},
                        });

                     function showTooltip(x, y, contents) {
                        $('<div id="tooltip">' + contents + '</div>').css( {
                           position: 'absolute',
                           display: 'none',
                           top: y + 5,
                           left: x + 5,
                           border: '1px solid #fdd',
                           padding: '2px',
                           'background-color': '#dfeffc',
                           opacity: 0.80
                        }).appendTo("body").fadeIn(200);
                     }

                     var previousPoint = null;
                     $("#registerChart").bind("plothover", function (event, pos, item) {
                        $("#x").text(pos.x.toFixed(2));
                        $("#y").text(pos.y.toFixed(2));

                        if (item) {
                           if (previousPoint != item.dataIndex) {
                              previousPoint = item.dataIndex;

                              $("#tooltip").remove();
                              var x = item.datapoint[0],
                              y = item.datapoint[1].toFixed(2);

                              showTooltip(item.pageX, item.pageY,
                              item.series.label + " ngày " + x + " = " + y);
                           }
                        }
                        else {
                           $("#tooltip").remove();
                           previousPoint = null;
                           }
                     });

                  }
                  if($("#realChart").length)
                  {
                     var real=[[1, 1], [2, 2], [3, 3], [4, 4],[5, 5],[6, 6],[7, 7], [8, 8], [9, 9], [10, 10]];

                     var plot = $.plot($("#realChart"),
                          [ { data: real, label: "Thực tế"} ], {
                             series: {
                                lines: { show: true,
                                   lineWidth: 2,
                                   fill: true, fillColor: { colors: [ { opacity: 0.5 }, { opacity: 0.2 } ] }
                                },
                                points: { show: true,
                                   lineWidth: 2
                                },
                                shadowSize: 0
                             },
                             grid: { hoverable: true,
                                clickable: true,
                                tickColor: "#f9f9f9",
                                borderWidth: 0
                             },
                             colors: ["#1BB2E9"],
                             xaxis: {ticks:6, tickDecimals: 0},
                             yaxis: {ticks:3, tickDecimals: 0},
                          });

                     function showTooltip(x, y, contents) {
                        $('<div id="tooltip">' + contents + '</div>').css( {
                           position: 'absolute',
                           display: 'none',
                           top: y + 5,
                           left: x + 5,
                           border: '1px solid #fdd',
                           padding: '2px',
                           'background-color': '#dfeffc',
                           opacity: 0.80
                        }).appendTo("body").fadeIn(200);
                     }

                     var previousPoint = null;
                     $("#realChart").bind("plothover", function (event, pos, item) {
                        $("#x").text(pos.x.toFixed(2));
                        $("#y").text(pos.y.toFixed(2));

                        if (item) {
                           if (previousPoint != item.dataIndex) {
                              previousPoint = item.dataIndex;

                              $("#tooltip").remove();
                              var x = item.datapoint[0],
                                      y = item.datapoint[1].toFixed(2);

                              showTooltip(item.pageX, item.pageY,
                                      item.series.label + " ngày " + x + " = " + y);
                           }
                        }
                        else {
                           $("#tooltip").remove();
                           previousPoint = null;
                        }
                     });

                  }
               });

               // /span
            .row-fluid.sortable
               .box.span12
                  .box-header(data-original-title='')
                     h2
                        i.halflings-icon.white.user
                        span.break
                        | Members
                     .box-icon
                        a.btn-setting(href='#')
                           i.halflings-icon.white.wrench
                        a.btn-minimize(href='#')
                           i.halflings-icon.white.chevron-up
                        a.btn-close(href='#')
                           i.halflings-icon.white.remove
                  .box-content
                     table.table.table-striped.table-bordered.bootstrap-datatable.datatable
                        thead
                           tr
                              th Username
                              th Date registered
                              th Role
                              th Status
                              th Actions
                        tbody
                           tr
                              td Dennis Ji
                              td.center 2012/01/01
                              td.center Member
                              td.center
                                 span.label.label-success Active
                              td.center
                                 a.btn.btn-success(href='#')
                                    i.halflings-icon.white.zoom-in
                                 a.btn.btn-info(href='#')
                                    i.halflings-icon.white.edit
                                 a.btn.btn-danger(href='#')
                                    i.halflings-icon.white.trash
                           tr
                              td Dennis Ji
                              td.center 2012/01/01
                              td.center Member
                              td.center
                                 span.label.label-success Active
                              td.center
                                 a.btn.btn-success(href='#')
                                    i.halflings-icon.white.zoom-in
                                 a.btn.btn-info(href='#')
                                    i.halflings-icon.white.edit
                                 a.btn.btn-danger(href='#')
                                    i.halflings-icon.white.trash
         // /.fluid-container
         // end: Content
      // /#content.span10
   // /fluid-row
   #myModal.modal.hide.fade
      .modal-header
         button.close(type='button', data-dismiss='modal') ×
         h3 Settings
      .modal-body
         p Here settings can be configured...
      .modal-footer
         a.btn(href='#', data-dismiss='modal') Close
         a.btn.btn-primary(href='#') Save changes
   #common-Modal1.common-modal.modal.fade(tabindex='-1', role='dialog', aria-hidden='true')
      .modal-content
         ul.list-inline.item-details
            li
               a(href='http://themifycloud.com') Admin templates
            li
               a(href='http://themescloud.org') Bootstrap themes
   .clearfix
   footer
      p
         span(style='text-align:left;float:left')
            | © 2015
            a ABCKitChen Dashboard
